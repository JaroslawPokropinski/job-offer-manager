import{x,z as g,r as u,j as e}from"./index-Cqu6Bc2Z.js";import{g as l,i as p,f as d,C as h,v as S,I as a,a as y}from"./v4-WFpdsaDh.js";import{M as O,X as j}from"./TextField-BWIe9_en.js";function R(){const b=x(),[c]=g(),n=u.useRef(null);return u.useEffect(()=>{if(!n.current)return;const i=c.get("id");if(!i)return;const s=localStorage.getItem("job-offers"),t=(s?JSON.parse(s):[]).find(r=>r.id===i);t&&Object.keys(l(n.current)).forEach(r=>{var m;const f=(m=n.current)==null?void 0:m.elements.namedItem(r);p(f)&&d(f,t[r]??"")})},[c]),e.jsx(h,{ref:n,component:"form",sx:{height:"100%"},onSubmit:i=>{if(i.preventDefault(),!n.current)return;const s=localStorage.getItem("job-offers");let o=s?JSON.parse(s):[];const t=l(n.current);o=o.filter(r=>r.id!==t.id),o.unshift({...t,id:t.id?t.id:S()}),localStorage.setItem("job-offers",JSON.stringify(o)),b("/")},children:e.jsxs(O,{sx:{padding:2},children:[e.jsx("input",{type:"hidden",name:"id"}),e.jsx(a,{name:"url",label:"URL",children:e.jsx(j,{type:"button",sx:{marginLeft:1},onClick:()=>{n.current&&y(l(n.current).url).then(i=>{Object.entries(i).forEach(([s,o])=>{var r;const t=(r=n.current)==null?void 0:r.elements.namedItem(s);p(t)&&d(t,o??"")})})},children:"Fill from URL"})}),e.jsx(a,{name:"position",label:"Position"}),e.jsx(a,{name:"company",label:"Company"}),e.jsx(a,{name:"status",label:"Status",type:"autocomplete",options:["Applied","Declined"]}),e.jsx(a,{name:"salary",label:"Salary",multiline:!0}),e.jsx(a,{type:"date",name:"appliedDate",label:"Applied Date"}),e.jsx(a,{name:"location",label:"Location",type:"autocomplete",options:["Remote","Wroc≈Çaw"]}),e.jsx(a,{name:"description",label:"Description",multiline:!0,sx:{marginBottom:4}}),e.jsx(j,{variant:"contained",type:"submit",children:"Save"})]})})}export{R as AddSingle};
