import{x as g,z as x,r as m,j as e}from"./index-Cqu6Bc2Z.js";import{g as u,i as h,f as S,C as O,a as D,v,I as f}from"./v4-WFpdsaDh.js";import{M as y,X as I}from"./TextField-BWIe9_en.js";function N(){const p=g(),[c]=x(),t=m.useRef(null);return m.useEffect(()=>{if(!t.current)return;const i=c.get("id");if(!i)return;const r=localStorage.getItem("job-offers"),l=(r?JSON.parse(r):[]).find(a=>a.id===i);l&&Object.keys(u(t.current)).forEach(a=>{var n;const o=(n=t.current)==null?void 0:n.elements.namedItem(a);h(o)&&S(o,l[a]??"")})},[c]),e.jsx(O,{ref:t,component:"form",sx:{height:"100%"},onSubmit:async i=>{if(i.preventDefault(),!t.current)return;const r=u(t.current),l=r.urls.split(`
`).map(s=>s.trim()).filter(Boolean).map(s=>D(s).then(b=>({...b,url:s}))),a=await Promise.all(l),o=localStorage.getItem("job-offers"),n=o?JSON.parse(o):[],{urls:E,...j}=r;a.reverse().forEach(s=>{n.unshift({...s,...j,id:v()})}),localStorage.setItem("job-offers",JSON.stringify(n)),p("/")},children:e.jsxs(y,{sx:{padding:2},children:[e.jsx("input",{type:"hidden",name:"id"}),e.jsx(f,{name:"urls",label:"URLs",multiline:!0}),e.jsx(f,{name:"status",label:"Status",type:"autocomplete",options:["Applied","Declined"]}),e.jsx(f,{type:"date",name:"appliedDate",label:"Applied Date"}),e.jsx(f,{name:"location",label:"Location",type:"autocomplete",options:["Remote","Wroc≈Çaw"]}),e.jsx(I,{variant:"contained",type:"submit",children:"Save"})]})})}export{N as AddMultiple};
